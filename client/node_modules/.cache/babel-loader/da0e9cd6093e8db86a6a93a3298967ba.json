{"ast":null,"code":"var _jsxFileName = \"/home/pc/Escritorio/proyecto final/MentoringApp/client/src/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport axios from 'axios';\nimport { dispatchGetUser, dispatchLogin, fetchUser } from './redux/actions/authActions'; // import Styles from'./index.module.css'\n// import { render } from 'react-dom';\n\nimport { // BrowserRouter,\nRoutes, Route } from 'react-router-dom'; // login\n\nimport Login from './components/login/Login.jsx';\nimport NotFound from './views/General/NotFound';\nimport ForgotPassword from './components/login/ForgotPassword.jsx'; //others\n\nimport WelcomeUser from './views/Student/Welcome/WelcomeStudent.jsx';\nimport WelcomeStudent from './views/Student/Welcome/WelcomeStudent';\nimport StudentSession from './views/Student/SessionsBoard/sessionsBoard';\nimport Thanks from './views/Student/Thanks/Thanks';\nimport NavBar from './components/Navbar/Navbar';\nimport Footer from './components/Footer/Footer';\nimport FirstStudentForm from './views/Student/Form/FirstStudentForm';\nimport FirstStudentInform from './views/Student/Inform/FirstStudentInform';\nimport MultipleChoice from './views/Student/MultipleChoice/MultipleChoice';\nimport CrudStudents from './views/Administrator/Cruds/CrudStudents/CrudStudents';\nimport PrincipalView from './views/Principal/PrincipalView';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const dispatch = useDispatch();\n  const token = useSelector(state => state.token);\n  const auth = useSelector(state => state.auth); // console.log(idStudent)\n\n  const {\n    isLogged\n  } = auth;\n  const [interest, setInterest] = useState(false);\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedAgoraUser');\n    const firstLogin = localStorage.getItem('firstLogin'); // console.log(firstLogin && loggedUserJSON)\n\n    if (firstLogin && loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      const refreshtoken = user.refresh_token;\n\n      const getToken = async () => {\n        const res = await axios.post('http://localhost:3001/api/refresh_token', {\n          refreshtoken\n        }); // console.log(res)\n\n        dispatch({\n          type: 'GET_TOKEN',\n          payload: res.data.access_token\n        });\n      };\n\n      getToken();\n    }\n  }, [auth.isLogged, dispatch]);\n  useEffect(() => {\n    if (token) {\n      // console.log(token, \"user\")\n      const getUser = () => {\n        dispatch(dispatchLogin());\n        return fetchUser(token).then(res => {\n          dispatch(dispatchGetUser(res));\n        });\n      };\n\n      getUser();\n    }\n  }, [token, dispatch]);\n  const idStudent = useSelector(state => state.auth.user.id);\n  useEffect(() => {\n    if (idStudent) {\n      axios.get(`http://localhost:3001/api/student-interest/${idStudent}`).then(res => {\n        const interest = res.data; // console.log(interest)\n\n        if (interest[0].interestsStudent.length > 0) {\n          setInterest(true);\n        }\n      });\n    }\n  }, [idStudent, auth.isLogged]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(NavBar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Routes, {\n      children: [/*#__PURE__*/_jsxDEV(Route, {\n        path: \"/login\",\n        element: isLogged ? /*#__PURE__*/_jsxDEV(WelcomeUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(Login, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 49\n        }, this),\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/forgot_password\",\n        element: isLogged ? /*#__PURE__*/_jsxDEV(WelcomeUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(ForgotPassword, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 49\n        }, this),\n        exact: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/\",\n        element: /*#__PURE__*/_jsxDEV(PrincipalView, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 34\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/welcome-user\",\n        element: interest ? /*#__PURE__*/_jsxDEV(WelcomeUser, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 31\n        }, this) : /*#__PURE__*/_jsxDEV(MultipleChoice, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/welcome-student\",\n        element: /*#__PURE__*/_jsxDEV(WelcomeStudent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 49\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/form-student/:id\",\n        element: /*#__PURE__*/_jsxDEV(FirstStudentForm, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/thanks-student\",\n        element: /*#__PURE__*/_jsxDEV(Thanks, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/inform-student/:id\",\n        element: /*#__PURE__*/_jsxDEV(FirstStudentInform, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 52\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/student-sessions\",\n        element: /*#__PURE__*/_jsxDEV(StudentSession, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 50\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/admin-panel\",\n        element: /*#__PURE__*/_jsxDEV(\"admin-panel\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 45\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/MultipleChoice\",\n        element: /*#__PURE__*/_jsxDEV(MultipleChoice, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 48\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"/CrudStudents\",\n        element: /*#__PURE__*/_jsxDEV(CrudStudents, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 46\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Route, {\n        path: \"*\",\n        element: /*#__PURE__*/_jsxDEV(\"main\", {\n          style: {\n            padding: '1rem'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"There's nothing here!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true); // return (\n  //   <div className=\"App\">\n  //     <h1>Bienvenido Usuario genérico</h1>\n  //     <nav\n  //       style={{\n  //         borderBottom: \"solid 1px\",\n  //         paddingBottom: \"1rem\"\n  //       }}\n  //     >\n  //     {/*<CrudStudent/>*/}\n  //     <Link to=\"/welcome-user\">| Pagina Bienvenida Usuario |</Link>\n  //     <Link to=\"/welcome-student\">| Pagina Bienvenida estudiante |</Link>\n  //     <Link to=\"/student-profile-interests\">| Perfil de estudiante |</Link>\n  //     <Link to=\"/student-sessions\">| Sesiones |</Link>\n  //     <Link to=\"/admin-panel\">| admin |</Link>\n  //     <Link to=\"/WelcomeCard\">| WelcomeCard |</Link>\n  //     <Link to=\"/CrudStudents\">| CrudStudents |</Link>\n  //     <Link to=\"/MultipleChoice\">| MultipleChoice |</Link>\n  //     <Link to=\"/TableSectionManager\">| TableSectionManager |</Link>\n  //     </nav>\n  //     <Outlet />\n  //   </div>\n  // );\n}\n\n_s(App, \"ObI9f1VSmQhizxKbc/RFL1Ry8E4=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/pc/Escritorio/proyecto final/MentoringApp/client/src/App.js"],"names":["React","useEffect","useState","useDispatch","useSelector","axios","dispatchGetUser","dispatchLogin","fetchUser","Routes","Route","Login","NotFound","ForgotPassword","WelcomeUser","WelcomeStudent","StudentSession","Thanks","NavBar","Footer","FirstStudentForm","FirstStudentInform","MultipleChoice","CrudStudents","PrincipalView","App","dispatch","token","state","auth","isLogged","interest","setInterest","loggedUserJSON","window","localStorage","getItem","firstLogin","user","JSON","parse","refreshtoken","refresh_token","getToken","res","post","type","payload","data","access_token","getUser","then","idStudent","id","get","interestsStudent","length","padding"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\n\nimport axios from 'axios'\n\nimport {\n  dispatchGetUser,\n  dispatchLogin,\n  fetchUser\n} from './redux/actions/authActions'\n\n// import Styles from'./index.module.css'\n// import { render } from 'react-dom';\nimport {\n  // BrowserRouter,\n  Routes,\n  Route\n} from 'react-router-dom'\n\n// login\nimport Login from './components/login/Login.jsx'\nimport NotFound from './views/General/NotFound'\nimport ForgotPassword from './components/login/ForgotPassword.jsx'\n\n//others\nimport WelcomeUser from './views/Student/Welcome/WelcomeStudent.jsx'\nimport WelcomeStudent from './views/Student/Welcome/WelcomeStudent'\nimport StudentSession from './views/Student/SessionsBoard/sessionsBoard'\nimport Thanks from './views/Student/Thanks/Thanks'\nimport NavBar from './components/Navbar/Navbar'\nimport Footer from './components/Footer/Footer'\nimport FirstStudentForm from './views/Student/Form/FirstStudentForm'\nimport FirstStudentInform from './views/Student/Inform/FirstStudentInform'\nimport MultipleChoice from './views/Student/MultipleChoice/MultipleChoice'\nimport CrudStudents from './views/Administrator/Cruds/CrudStudents/CrudStudents'\nimport PrincipalView from './views/Principal/PrincipalView'\n\nfunction App () {\n  const dispatch = useDispatch()\n  const token = useSelector(state => state.token)\n  const auth = useSelector(state => state.auth)\n\n  // console.log(idStudent)\n\n  const { isLogged } = auth\n\n  const [interest, setInterest] = useState(false)\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedAgoraUser')\n    const firstLogin = localStorage.getItem('firstLogin')\n    // console.log(firstLogin && loggedUserJSON)\n    if (firstLogin && loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      const refreshtoken = user.refresh_token\n\n      const getToken = async () => {\n        const res = await axios.post(\n          'http://localhost:3001/api/refresh_token',\n          { refreshtoken }\n        )\n        // console.log(res)\n        dispatch({ type: 'GET_TOKEN', payload: res.data.access_token })\n      }\n      getToken()\n    }\n  }, [auth.isLogged, dispatch])\n\n  useEffect(() => {\n    if (token) {\n      // console.log(token, \"user\")\n      const getUser = () => {\n        dispatch(dispatchLogin())\n        return fetchUser(token).then(res => {\n          dispatch(dispatchGetUser(res))\n        })\n      }\n      getUser()\n    }\n  }, [token, dispatch])\n\n  const idStudent = useSelector(state => state.auth.user.id)\n\n  useEffect(() => {\n    if (idStudent) {\n      axios\n        .get(`http://localhost:3001/api/student-interest/${idStudent}`)\n        .then(res => {\n          const interest = res.data\n          // console.log(interest)\n          if (interest[0].interestsStudent.length > 0) {\n            setInterest(true)\n          }\n        })\n    }\n  }, [idStudent, auth.isLogged])\n\n  return (\n    <>\n      <NavBar></NavBar>\n      <Routes>\n        {/* login */}\n\n        <Route\n          path='/login'\n          element={isLogged ? <WelcomeUser /> : <Login />}\n          exact\n        />\n        <Route\n          path='/forgot_password'\n          element={isLogged ? <WelcomeUser /> : <ForgotPassword />}\n          exact\n        />\n\n        {/* others */}\n        <Route path='/' element={<PrincipalView />} />\n        <Route\n          path='/welcome-user'\n          element={interest ? <WelcomeUser /> : <MultipleChoice />}\n        />\n        <Route path='/welcome-student' element={<WelcomeStudent />} />\n        <Route path='/form-student/:id' element={<FirstStudentForm />} />\n        <Route path='/thanks-student' element={<Thanks />} />\n        <Route path='/inform-student/:id' element={<FirstStudentInform />} />\n        <Route path='/student-sessions' element={<StudentSession />} />\n        <Route path='/admin-panel' element={<admin-panel />} />\n        <Route path='/MultipleChoice' element={<MultipleChoice />} />\n        <Route path='/CrudStudents' element={<CrudStudents />} />\n\n        <Route\n          path='*'\n          element={\n            <main style={{ padding: '1rem' }}>\n              <p>There's nothing here!</p>\n            </main>\n          }\n        />\n      </Routes>\n\n      <Footer></Footer>\n    </>\n  )\n\n  // return (\n  //   <div className=\"App\">\n  //     <h1>Bienvenido Usuario genérico</h1>\n  //     <nav\n  //       style={{\n  //         borderBottom: \"solid 1px\",\n  //         paddingBottom: \"1rem\"\n  //       }}\n  //     >\n  //     {/*<CrudStudent/>*/}\n  //     <Link to=\"/welcome-user\">| Pagina Bienvenida Usuario |</Link>\n  //     <Link to=\"/welcome-student\">| Pagina Bienvenida estudiante |</Link>\n  //     <Link to=\"/student-profile-interests\">| Perfil de estudiante |</Link>\n  //     <Link to=\"/student-sessions\">| Sesiones |</Link>\n  //     <Link to=\"/admin-panel\">| admin |</Link>\n  //     <Link to=\"/WelcomeCard\">| WelcomeCard |</Link>\n  //     <Link to=\"/CrudStudents\">| CrudStudents |</Link>\n  //     <Link to=\"/MultipleChoice\">| MultipleChoice |</Link>\n  //     <Link to=\"/TableSectionManager\">| TableSectionManager |</Link>\n\n  //     </nav>\n  //     <Outlet />\n  //   </div>\n  // );\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}